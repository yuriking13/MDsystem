
> web@ test /workspaces/MDsystem/apps/web
> pnpm run clean:js-mirrors && vitest run


> web@ clean:js-mirrors /workspaces/MDsystem/apps/web
> node scripts/clean-js-mirrors.mjs


 RUN  v3.2.4 /workspaces/MDsystem/apps/web

 ✓ tests/components/AppLayout.test.tsx (109 tests) 5582ms
   ✓ AppLayout mobile sidebar behavior > opens fixed-layout drawer only on mobile widths for '/projects/p1/documents/d1'  371ms
   ✓ AppLayout mobile sidebar behavior > keeps /projects/:id?tab=articles route usable across all target widths  346ms
 ✓ tests/pages/DocumentationPage.test.tsx (21 tests) 3290ms
   ✓ DocumentationPage menu + submenu > renders all major documentation sections in sidebar menu  450ms
   ✓ DocumentationPage menu + submenu > keeps first submenu topic active for every section after section switch  306ms
   ✓ DocumentationPage menu + submenu > keeps exactly one section marked with aria-current  667ms
 ✓ tests/pages/AdminLayout.test.tsx (57 tests) 3057ms
   ✓ AdminLayout responsive sidebar behavior > keeps sidebar toggle viewport-gated for /admin across width matrix  335ms
 ✓ tests/config/documentationCoverageContract.test.tsx (6 tests) 2082ms
   ✓ documentation functional coverage contract > keeps required feature topics documented for core project workflows  328ms
   ✓ documentation functional coverage contract > keeps submenu tablist and topic panel semantics wired for each section  344ms
   ✓ documentation functional coverage contract > keeps every submenu topic with actionable content depth  847ms
 ✓ tests/components/AppThemeBootstrapRuntime.test.tsx (413 tests) 1623ms
 ✓ tests/components/AppSidebar.test.tsx (28 tests) 827ms
 ✓ tests/components/ArticleAISidebar.test.tsx (28 tests) 538ms
 ✓ tests/components/ArticleCard.test.tsx (26 tests) 439ms
 ✓ tests/components/PublisherSection.test.tsx (2 tests) 268ms
 ✓ tests/lib/sanitizeSvg.test.ts (7 tests) 547ms
   ✓ sanitizeSvg with DOMPurify > should call DOMPurify.sanitize with SVG profile config  542ms
 ✓ tests/components/AIWritingAssistant.caption-security.test.tsx (2 tests) 270ms
stderr | tests/pages/RegisterLegalLinks.test.tsx > Register legal links > routes terms/privacy links from register page
⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 ✓ tests/pages/RegisterLegalLinks.test.tsx (2 tests) 184ms
 ✓ tests/lib/citationGraphUtils.test.ts (9 tests) 56ms
 ✓ tests/lib/inlineStyleUtils.test.ts (5 tests) 35ms
 ✓ tests/config/forbiddenWarmPaletteTokens.test.ts (1 test) 20ms
 ✓ tests/lib/exportWord.security.test.ts (1 test) 31ms
 ✓ src/lib/logger.test.ts (11 tests) 11ms
 ✓ tests/config/manualSmokeChecklistContract.test.ts (12 tests) 7ms
