/* =============================================================================
   App Layout & Sidebar Styles
   Left navigation sidebar with consistent theming
   Glass neon effect inspired by Simey's Neon Glass design
   ============================================================================= */

/* App Layout Container */
.app-layout {
  @apply flex min-h-screen;
  background-color: #0a1628;
}

.light-theme .app-layout,
[data-theme="light"] .app-layout {
  @apply bg-neutral-100;
}

.app-main {
  @apply flex-1 overflow-auto;
  min-height: 100vh;
  min-height: 100dvh;
  contain: layout style;
}

.app-mobile-topbar {
  display: none;
}

.app-mobile-fab-toggle {
  display: none;
}

.app-sidebar-overlay {
  display: none;
}

body.sidebar-modal-open {
  overflow: hidden;
}

.app-main-fixed {
  height: 100%;
  max-height: 100vh;
  max-height: 100dvh;
  min-height: 0;
  overflow: hidden;
}

.app-main-fixed .app-mobile-topbar {
  display: none !important;
}

/* Lock entire page for fixed layouts (editor, graph) */
html.layout-fixed,
html.layout-fixed body {
  height: 100vh;
  height: 100dvh;
  max-height: 100vh;
  max-height: 100dvh;
  overflow: hidden;
}

html.layout-fixed #root {
  height: 100vh;
  height: 100dvh;
  max-height: 100vh;
  max-height: 100dvh;
  overflow: hidden;
}

.app-layout-fixed {
  height: 100vh;
  height: 100dvh;
  max-height: 100vh;
  max-height: 100dvh;
  overflow: hidden;
}

/* =============================================================================
   Neon Glass CSS Variables
   ============================================================================= */

.app-sidebar {
  --glass-hue1: 210;
  --glass-hue2: 250;
  --glass-border: 1px;
  --glass-border-color: hsla(var(--glass-hue2), 12%, 20%, 0.6);
  --glass-radius: 0px;
  --glass-ease: cubic-bezier(0.5, 1, 0.89, 1);
}

/* =============================================================================
   App Sidebar — Glass Effect
   ============================================================================= */

.app-sidebar {
  @apply relative flex flex-col h-screen sticky top-0;
  height: 100dvh;
  
  /* Solid background — single color, no gradient */
  background: hsla(220, 25%, 8%, 0.85);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  
  border-right: var(--glass-border) solid var(--glass-border-color);
  box-shadow: 
    hsla(var(--glass-hue2), 50%, 2%, 0.3) 4px 0 16px -8px,
    hsla(var(--glass-hue2), 50%, 4%, 0.15) 8px 0 36px -14px;
  
  width: 240px;
  z-index: 2;
}

/* =============================================================================
   Neon Shine & Glow Elements (disabled — removed from markup)
   ============================================================================= */

/* --- Shine: hidden --- */
.sidebar-shine {
  display: none;
}

.sidebar-glow {
  display: none;
}

.sidebar-shine--top {
  --shine-hue: var(--glass-hue1);
  top: -1px;
  right: -1px;
  width: 60%;
  height: 60%;
  border-radius: 0;
  border-top-right-radius: 0;
  border-bottom-left-radius: var(--glass-radius);
  
  background: conic-gradient(
    from -45deg at center,
    transparent 12%, 
    hsla(var(--shine-hue), 80%, 60%, 0.7), 
    transparent 50%
  ) border-box;
  
  mask: 
    linear-gradient(transparent, transparent), 
    linear-gradient(black, black);
  mask-repeat: no-repeat;
  mask-clip: padding-box, border-box;
  mask-composite: subtract;
  -webkit-mask-composite: source-out;
}

.sidebar-shine--top::after {
  content: "";
  position: absolute;
  inset: -2px;
  z-index: 2;
  border: inherit;
  border-radius: inherit;
  
  background: conic-gradient(
    from -45deg at center,
    transparent 17%, 
    hsla(var(--shine-hue), 80%, 85%, 0.9), 
    transparent 33%
  );
}

.sidebar-shine--bottom {
  --shine-hue: var(--glass-hue2);
  bottom: -1px;
  left: -1px;
  width: 60%;
  height: 60%;
  border-radius: 0;
  border-bottom-left-radius: 0;
  border-top-right-radius: var(--glass-radius);
  
  background: conic-gradient(
    from 135deg at center,
    transparent 12%, 
    hsla(var(--shine-hue), 80%, 60%, 0.7), 
    transparent 50%
  ) border-box;
  
  mask: 
    linear-gradient(transparent, transparent), 
    linear-gradient(black, black);
  mask-repeat: no-repeat;
  mask-clip: padding-box, border-box;
  mask-composite: subtract;
  -webkit-mask-composite: source-out;
  
  animation-delay: 0.1s;
  animation-duration: 1.8s;
}

.sidebar-shine--bottom::after {
  content: "";
  position: absolute;
  inset: -2px;
  z-index: 2;
  border: inherit;
  border-radius: inherit;
  
  background: conic-gradient(
    from 135deg at center,
    transparent 17%, 
    hsla(var(--shine-hue), 80%, 85%, 0.9), 
    transparent 33%
  );
}

/* --- Glow: diffused color bleed --- */
.sidebar-glow {
  pointer-events: none;
  position: absolute;
  display: block;
  z-index: 3;
  
  width: 50%;
  height: auto;
  min-height: 0;
  aspect-ratio: 1;
  
  border: 16px solid transparent;
  border-radius: 30px;
  
  filter: blur(10px) saturate(1.25) brightness(0.5);
  mix-blend-mode: plus-lighter;
  opacity: 1;
  
  animation: sidebarGlow 1s var(--glass-ease) both;
  animation-delay: 0.2s;
}

.sidebar-glow::before,
.sidebar-glow::after {
  content: "";
  position: absolute;
  inset: 0;
  border: inherit;
  border-radius: inherit;
}

.sidebar-glow--top {
  --glow-hue: var(--glass-hue1);
  top: -20px;
  right: -10px;
  left: auto;
  bottom: auto;
}

.sidebar-glow--top::before {
  background: conic-gradient(
    from -45deg at center,
    transparent 0%, 
    hsla(var(--glow-hue), 95%, 60%, 0.8), 
    transparent 50%
  ) border-box;
  mask: 
    linear-gradient(transparent, transparent), 
    linear-gradient(black, black);
  mask-repeat: no-repeat;
  mask-clip: padding-box, border-box;
  mask-composite: subtract;
  -webkit-mask-composite: source-out;
  filter: saturate(2) brightness(1);
}

.sidebar-glow--top::after {
  --glow-lit: 70%;
  --glow-sat: 100%;
  border-width: 28px;
  border-radius: 44px;
  inset: -4px;
  z-index: 4;
  opacity: 0.75;
  
  background: conic-gradient(
    from -45deg at center,
    transparent 15%, 
    hsla(var(--glow-hue), var(--glow-sat), var(--glow-lit), 0.8), 
    transparent 35%
  ) border-box;
  mask: 
    linear-gradient(transparent, transparent), 
    linear-gradient(black, black);
  mask-repeat: no-repeat;
  mask-clip: padding-box, border-box;
  mask-composite: subtract;
  -webkit-mask-composite: source-out;
}

.sidebar-glow--bottom {
  --glow-hue: var(--glass-hue2);
  bottom: -20px;
  left: -10px;
  right: auto;
  top: auto;
  
  animation-delay: 0.3s;
}

.sidebar-glow--bottom::before {
  background: conic-gradient(
    from 135deg at center,
    transparent 0%, 
    hsla(var(--glow-hue), 95%, 60%, 0.8), 
    transparent 50%
  ) border-box;
  mask: 
    linear-gradient(transparent, transparent), 
    linear-gradient(black, black);
  mask-repeat: no-repeat;
  mask-clip: padding-box, border-box;
  mask-composite: subtract;
  -webkit-mask-composite: source-out;
  filter: saturate(2) brightness(1);
}

.sidebar-glow--bottom::after {
  --glow-lit: 70%;
  --glow-sat: 100%;
  border-width: 28px;
  border-radius: 44px;
  inset: -4px;
  z-index: 4;
  opacity: 0.75;
  
  background: conic-gradient(
    from 135deg at center,
    transparent 15%, 
    hsla(var(--glow-hue), var(--glow-sat), var(--glow-lit), 0.8), 
    transparent 35%
  ) border-box;
  mask: 
    linear-gradient(transparent, transparent), 
    linear-gradient(black, black);
  mask-repeat: no-repeat;
  mask-clip: padding-box, border-box;
  mask-composite: subtract;
  -webkit-mask-composite: source-out;
}

/* --- Glow Bright: sharper accent border --- */
.sidebar-glow--bright {
  border-width: 4px;
  border-radius: 2px;
  filter: blur(2px) brightness(0.66);
  
  animation-delay: 0.1s;
  animation-duration: 1.5s;
}

.sidebar-glow--bright.sidebar-glow--top {
  inset: -3px;
  left: auto;
  bottom: auto;
}

.sidebar-glow--bright.sidebar-glow--bottom {
  inset: -3px;
  right: auto;
  top: auto;
}

.sidebar-glow--bright::before {
  background: conic-gradient(
    from -45deg at center,
    transparent 13%, 
    hsla(var(--glow-hue, var(--glass-hue1)), 100%, 80%, 0.9), 
    transparent 37%
  ) border-box;
}

.sidebar-glow--bright.sidebar-glow--bottom::before {
  background: conic-gradient(
    from 135deg at center,
    transparent 13%, 
    hsla(var(--glow-hue, var(--glass-hue2)), 100%, 80%, 0.9), 
    transparent 37%
  ) border-box;
}

.sidebar-glow--bright::after {
  content: none;
}

/* =============================================================================
   Neon Glow Animations
   ============================================================================= */

@keyframes sidebarGlow {
  0% {
    opacity: 0;
  }
  3% {
    opacity: 1;
  }
  10% {
    opacity: 0;
  }
  12% {
    opacity: 0.7;
  }
  16% {
    opacity: 0.3;
    animation-timing-function: var(--glass-ease);
  }
  100% {
    opacity: 1;
    animation-timing-function: var(--glass-ease);
  }
}

/* Subtle continuous pulse for the glows */
@keyframes sidebarGlowPulse {
  0%, 100% {
    opacity: 0.6;
  }
  50% {
    opacity: 1;
  }
}

/* After initial animation, keep a gentle pulse */
.sidebar-glow,
.sidebar-shine {
  animation-fill-mode: forwards;
}

/* =============================================================================
   Inner border glow on sidebar right edge (disabled)
   ============================================================================= */

.app-sidebar::before {
  display: none;
}

.app-sidebar--collapsed {
  width: 64px;
}

/* Collapse Toggle - sits exactly on the right edge of the sidebar */
.sidebar-collapse-toggle {
  @apply absolute flex items-center justify-center;
  @apply w-5 h-10 rounded-r-md;
  @apply text-neutral-400 hover:text-white;
  @apply cursor-pointer;
  transition: color 150ms ease, background-color 150ms ease, border-color 150ms ease, width 150ms ease;
  background-color: hsla(var(--glass-hue2), 25%, 15%, 0.7);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid hsla(var(--glass-hue1), 30%, 40%, 0.25);
  border-left: none;
  top: 50%;
  right: 0;
  transform: translate(100%, -50%);
  z-index: 30;
}

.sidebar-collapse-toggle:hover {
  background-color: hsla(var(--glass-hue1), 40%, 40%, 0.15);
  border-color: hsla(var(--glass-hue1), 40%, 50%, 0.4);
  @apply w-6;
}

/* Sidebar Header */
.sidebar-header {
  @apply flex items-center px-4 py-4;
  border-bottom: 1px solid hsla(var(--glass-hue2), 20%, 30%, 0.25);
}

.sidebar-logo {
  @apply flex items-center gap-3;
}

.sidebar-logo-icon {
  @apply flex items-center justify-center w-8 h-8 rounded-lg;
  @apply bg-gradient-to-br from-blue-500 to-blue-600;
  @apply text-white;
}

.sidebar-logo-text {
  @apply text-base font-bold text-white;
  @apply tracking-tight;
}

/* Project Section */
.sidebar-project {
  @apply px-3 py-3;
  border-bottom: 1px solid hsla(var(--glass-hue2), 20%, 30%, 0.25);
}

.sidebar-back-btn {
  @apply flex items-center gap-2 w-full px-2 py-1.5 rounded-lg;
  @apply text-xs text-neutral-400 hover:text-white;
  @apply transition-colors cursor-pointer;
  @apply bg-transparent border-0;
}

.sidebar-back-btn:hover {
  background-color: hsla(var(--glass-hue1), 40%, 40%, 0.15);
}

.sidebar-project-name {
  @apply mt-2 px-2 text-sm font-semibold text-white;
  @apply truncate;
}

.sidebar-project-meta {
  @apply mt-1 px-2 flex flex-col gap-0.5;
}

.sidebar-project-role {
  @apply text-xs text-blue-400 font-medium;
}

.sidebar-project-date {
  @apply text-xs text-neutral-500;
}

.app-sidebar--collapsed .sidebar-back-btn {
  @apply justify-center px-0;
}

.app-sidebar--collapsed .sidebar-project-name,
.app-sidebar--collapsed .sidebar-project-meta {
  @apply hidden;
}

/* Sidebar Navigation */
.sidebar-nav {
  @apply flex-1 py-3 px-2 overflow-y-auto;
}

.sidebar-nav-list {
  @apply flex flex-col gap-0.5;
}

.sidebar-nav-item {
  @apply flex items-center gap-2.5 w-full px-3 py-2 rounded-lg;
  @apply text-neutral-400 hover:text-white;
  @apply cursor-pointer border-0 bg-transparent text-left;
  transition: color 150ms ease, background-color 150ms ease;
}

.sidebar-nav-item:hover {
  background-color: hsla(var(--glass-hue1), 40%, 40%, 0.15);
}

.sidebar-nav-item--active {
  @apply bg-blue-600/20 text-blue-400;
  @apply hover:bg-blue-600/30 hover:text-blue-300;
}

.sidebar-nav-icon {
  @apply w-5 h-5 shrink-0;
}

.sidebar-nav-label {
  @apply text-sm font-medium;
  @apply whitespace-nowrap;
}

.sidebar-nav-badge {
  @apply ml-auto px-1.5 py-0.5 rounded-md text-xs font-medium;
  @apply bg-blue-500/20 text-blue-400;
}

/* Collapsed state - center icons */
.app-sidebar--collapsed .sidebar-nav-item {
  @apply justify-center px-2;
}

.app-sidebar--collapsed .sidebar-logo {
  @apply justify-center;
}

/* =============================================================================
   Sidebar Sub-menu (Articles status sub-navigation)
   ============================================================================= */

.sidebar-submenu {
  @apply flex flex-col gap-0.5 mt-0.5 mb-1;
  padding-left: 0.75rem;
}

.sidebar-submenu-item {
  @apply flex items-center gap-2 w-full px-3 py-1.5 rounded-lg;
  @apply text-neutral-400 hover:text-white;
  @apply cursor-pointer border-0 bg-transparent text-left;
  font-size: 0.8125rem;
  transition: color 150ms ease, background-color 150ms ease;
}

.sidebar-submenu-item:hover {
  background-color: hsla(var(--glass-hue1), 40%, 40%, 0.15);
}

.sidebar-submenu-item--active {
  @apply bg-blue-600/15 text-blue-400;
  @apply hover:bg-blue-600/25 hover:text-blue-300;
}

.sidebar-submenu-icon {
  @apply w-4 h-4 shrink-0;
}

.sidebar-submenu-label {
  @apply text-xs font-medium;
  @apply whitespace-nowrap flex-1;
}

.sidebar-submenu-badge {
  @apply ml-auto px-1.5 py-0.5 rounded-md text-xs font-medium;
  @apply text-neutral-400;
  background-color: hsla(var(--glass-hue2), 30%, 30%, 0.25);
  font-size: 0.6875rem;
}

.sidebar-submenu-item--active .sidebar-submenu-badge {
  @apply bg-blue-500/20 text-blue-400;
}

/* Collapsed state - hide submenu */
.app-sidebar--collapsed .sidebar-submenu {
  @apply hidden;
}

/* Sidebar Footer */
.sidebar-footer {
  @apply px-2 py-3 space-y-1;
  border-top: 1px solid hsla(var(--glass-hue2), 20%, 30%, 0.25);
}

.sidebar-theme-switcher-wrap {
  @apply flex justify-center;
  padding: 0 6px;
}

.sidebar-theme-switcher-wrap--collapsed {
  padding: 0 4px;
}

.sidebar-footer-btn {
  @apply flex items-center gap-2.5 w-full px-3 py-2 rounded-lg;
  @apply text-neutral-400 hover:text-white;
  @apply transition-colors;
  @apply cursor-pointer border-0 bg-transparent text-left;
}

.sidebar-footer-btn:hover {
  background-color: hsla(var(--glass-hue1), 40%, 40%, 0.15);
}

.sidebar-footer-icon {
  @apply w-5 h-5 shrink-0;
}

.sidebar-footer-label {
  @apply text-sm font-medium;
  @apply whitespace-nowrap;
}

.sidebar-logout-btn {
  @apply hover:bg-red-500/20 hover:text-red-400;
}

/* User Profile */
.sidebar-user {
  @apply flex items-center gap-2.5 w-full px-3 py-2;
  @apply rounded-lg transition-colors cursor-pointer;
  @apply border-0 bg-transparent text-left;
  @apply text-neutral-400 hover:text-white;
}

.sidebar-user:hover {
  background-color: hsla(var(--glass-hue1), 40%, 40%, 0.15);
}

.sidebar-user-avatar {
  @apply text-neutral-400;
}

.sidebar-user-info {
  @apply flex-1 min-w-0;
}

.sidebar-user-email {
  @apply text-xs text-neutral-400 truncate block;
}

/* Collapsed state - center icons */
.app-sidebar--collapsed .sidebar-footer-btn {
  @apply justify-center px-2;
}

.app-sidebar--collapsed .sidebar-user {
  @apply justify-center px-2;
}

/* =============================================================================
   Light Theme — Glass effect with lighter hues
   ============================================================================= */

.light-theme .app-sidebar,
[data-theme="light"] .app-sidebar {
  --glass-hue1: 35;
  --glass-hue2: 25;
  
  /* Solid background — single color, no gradient */
  background: hsla(30, 20%, 95%, 0.85);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  border-right-color: hsla(var(--glass-hue2), 20%, 60%, 0.2);
  box-shadow: 
    hsla(var(--glass-hue2), 20%, 50%, 0.08) 4px 0 16px -8px,
    hsla(var(--glass-hue2), 20%, 50%, 0.04) 8px 0 36px -14px;
}

.light-theme .app-sidebar::before,
[data-theme="light"] .app-sidebar::before {
  display: none;
}

.light-theme .sidebar-shine,
[data-theme="light"] .sidebar-shine {
  opacity: 0.5;
}

.light-theme .sidebar-glow,
[data-theme="light"] .sidebar-glow {
  opacity: 0.35;
}

.light-theme .sidebar-collapse-toggle,
[data-theme="light"] .sidebar-collapse-toggle {
  background-color: hsla(0, 0%, 100%, 0.5);
  backdrop-filter: blur(12px);
  border-color: hsla(var(--glass-hue2), 20%, 60%, 0.25);
  border-left: none;
  @apply text-neutral-500 hover:text-neutral-700;
}

.light-theme .sidebar-collapse-toggle:hover,
[data-theme="light"] .sidebar-collapse-toggle:hover {
  background-color: hsla(var(--glass-hue1), 30%, 50%, 0.1);
  border-color: hsla(var(--glass-hue1), 30%, 50%, 0.35);
}

.light-theme .sidebar-header,
[data-theme="light"] .sidebar-header {
  border-bottom-color: hsla(var(--glass-hue2), 15%, 60%, 0.2);
}

.light-theme .sidebar-logo-text,
[data-theme="light"] .sidebar-logo-text {
  @apply text-neutral-900;
}

.light-theme .sidebar-project,
[data-theme="light"] .sidebar-project {
  border-bottom-color: hsla(var(--glass-hue2), 15%, 60%, 0.2);
}

.light-theme .sidebar-back-btn,
[data-theme="light"] .sidebar-back-btn {
  @apply text-neutral-500 hover:text-neutral-900;
}

.light-theme .sidebar-back-btn:hover,
[data-theme="light"] .sidebar-back-btn:hover {
  background-color: hsla(var(--glass-hue1), 30%, 50%, 0.1);
}

.light-theme .sidebar-project-name,
[data-theme="light"] .sidebar-project-name {
  @apply text-neutral-900;
}

.light-theme .sidebar-project-role,
[data-theme="light"] .sidebar-project-role {
  @apply text-primary-700;
}

.light-theme .sidebar-project-date,
[data-theme="light"] .sidebar-project-date {
  @apply text-neutral-500;
}

.light-theme .sidebar-nav-item,
[data-theme="light"] .sidebar-nav-item {
  @apply text-neutral-600 hover:text-neutral-900;
}

.light-theme .sidebar-nav-item:hover,
[data-theme="light"] .sidebar-nav-item:hover {
  background-color: hsla(var(--glass-hue1), 30%, 50%, 0.1);
}

.light-theme .sidebar-nav-item--active,
[data-theme="light"] .sidebar-nav-item--active {
  background-color: hsla(var(--glass-hue1), 50%, 50%, 0.12);
  @apply text-primary-700;
}

.light-theme .sidebar-nav-item--active:hover,
[data-theme="light"] .sidebar-nav-item--active:hover {
  background-color: hsla(var(--glass-hue1), 50%, 50%, 0.18);
  @apply text-primary-800;
}

.light-theme .sidebar-footer,
[data-theme="light"] .sidebar-footer {
  border-top-color: hsla(var(--glass-hue2), 15%, 60%, 0.2);
}

.light-theme .sidebar-footer-btn,
[data-theme="light"] .sidebar-footer-btn {
  @apply text-neutral-600 hover:text-neutral-900;
}

.light-theme .sidebar-footer-btn:hover,
[data-theme="light"] .sidebar-footer-btn:hover {
  background-color: hsla(var(--glass-hue1), 30%, 50%, 0.1);
}

.light-theme .sidebar-logout-btn,
[data-theme="light"] .sidebar-logout-btn {
  @apply hover:text-red-600;
}

.light-theme .sidebar-logout-btn:hover,
[data-theme="light"] .sidebar-logout-btn:hover {
  background-color: hsla(0, 60%, 50%, 0.1);
}

.light-theme .sidebar-user-email,
[data-theme="light"] .sidebar-user-email {
  @apply text-neutral-600;
}

.light-theme .sidebar-user-avatar,
[data-theme="light"] .sidebar-user-avatar {
  @apply text-neutral-500;
}

/* Sub-menu Light Theme */
.light-theme .sidebar-submenu-item,
[data-theme="light"] .sidebar-submenu-item {
  @apply text-neutral-500 hover:text-neutral-900;
}

.light-theme .sidebar-submenu-item:hover,
[data-theme="light"] .sidebar-submenu-item:hover {
  background-color: hsla(var(--glass-hue1), 30%, 50%, 0.1);
}

.light-theme .sidebar-submenu-item--active,
[data-theme="light"] .sidebar-submenu-item--active {
  background-color: hsla(var(--glass-hue1), 50%, 50%, 0.1);
  @apply text-primary-700;
}

.light-theme .sidebar-submenu-item--active:hover,
[data-theme="light"] .sidebar-submenu-item--active:hover {
  background-color: hsla(var(--glass-hue1), 50%, 50%, 0.16);
  @apply text-primary-800;
}

.light-theme .sidebar-submenu-badge,
[data-theme="light"] .sidebar-submenu-badge {
  background-color: hsla(var(--glass-hue2), 20%, 50%, 0.1);
  @apply text-neutral-500;
}

.light-theme .sidebar-submenu-item--active .sidebar-submenu-badge,
[data-theme="light"] .sidebar-submenu-item--active .sidebar-submenu-badge {
  background-color: hsla(var(--glass-hue1), 40%, 50%, 0.15);
  @apply text-primary-700;
}

/* =============================================================================
   Responsive
   ============================================================================= */

@media (max-width: 768px) {
  .app-mobile-topbar {
    position: sticky;
    top: 0;
    z-index: 35;
    display: flex;
    align-items: center;
    gap: 12px;
    min-height: 56px;
    padding: calc(10px + env(safe-area-inset-top, 0px))
      calc(16px + env(safe-area-inset-right, 0px)) 10px
      calc(16px + env(safe-area-inset-left, 0px));
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    background: rgba(10, 22, 40, 0.9);
    border-bottom: 1px solid rgba(56, 89, 138, 0.3);
  }

  .app-mobile-fab-toggle {
    position: fixed;
    left: calc(12px + env(safe-area-inset-left, 0px));
    top: calc(12px + env(safe-area-inset-top, 0px));
    z-index: 42;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 38px;
    height: 38px;
    border-radius: 0.625rem;
    border: 1px solid rgba(56, 89, 138, 0.35);
    background: rgba(10, 22, 40, 0.92);
    color: #f8fafc;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    cursor: pointer;
    transition: color 150ms ease, background-color 150ms ease, border-color 150ms ease;
  }

  .app-mobile-fab-toggle svg {
    width: 18px;
    height: 18px;
  }

  .app-mobile-fab-toggle:hover {
    background: rgba(30, 48, 80, 0.95);
    border-color: rgba(56, 89, 138, 0.55);
    color: #ffffff;
  }

  .light-theme .app-mobile-fab-toggle,
  [data-theme="light"] .app-mobile-fab-toggle {
    background: rgba(255, 255, 255, 0.95);
    border-color: rgba(224, 214, 202, 0.95);
    color: #2d1f10;
  }

  .light-theme .app-mobile-fab-toggle:hover,
  [data-theme="light"] .app-mobile-fab-toggle:hover {
    background: rgba(255, 248, 236, 1);
    color: #2d1f10;
  }

  .light-theme .app-mobile-topbar,
  [data-theme="light"] .app-mobile-topbar {
    background: rgba(255, 255, 255, 0.9);
    border-bottom-color: rgba(224, 214, 202, 0.9);
  }

  .app-mobile-topbar-title {
    font-size: 14px;
    font-weight: 600;
    color: #f8fafc;
    flex: 1;
    min-width: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .light-theme .app-mobile-topbar-title,
  [data-theme="light"] .app-mobile-topbar-title {
    color: #2d1f10;
  }

  .app-mobile-nav-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 34px;
    height: 34px;
    border-radius: 0.5rem;
    border: 1px solid rgba(56, 89, 138, 0.35);
    background: rgba(22, 34, 54, 0.9);
    color: #e2e8f0;
    cursor: pointer;
    flex-shrink: 0;
    transition: color 150ms ease, background-color 150ms ease, border-color 150ms ease;
  }

  .app-mobile-nav-toggle svg {
    width: 18px;
    height: 18px;
  }

  .app-mobile-nav-toggle:hover {
    background: rgba(30, 48, 80, 0.95);
    border-color: rgba(56, 89, 138, 0.55);
    color: #ffffff;
  }

  .light-theme .app-mobile-nav-toggle,
  [data-theme="light"] .app-mobile-nav-toggle {
    background: rgba(255, 255, 255, 0.95);
    border-color: rgba(224, 214, 202, 0.95);
    color: #6b5744;
  }

  .light-theme .app-mobile-nav-toggle:hover,
  [data-theme="light"] .app-mobile-nav-toggle:hover {
    background: rgba(255, 248, 236, 1);
    color: #2d1f10;
  }

  .app-sidebar-overlay {
    position: fixed;
    inset: 0;
    z-index: 40;
    display: block;
    border: 0;
    background: rgba(0, 0, 0, 0.55);
    padding: 0;
    margin: 0;
    cursor: pointer;
  }

  .app-sidebar {
    @apply fixed left-0 top-0 z-50;
    width: min(240px, 88vw);
    @apply -translate-x-full;
    transition: transform 150ms cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform;
    padding-top: env(safe-area-inset-top, 0px);
    padding-left: env(safe-area-inset-left, 0px);
    padding-right: env(safe-area-inset-right, 0px);
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }

  .app-sidebar--open {
    @apply translate-x-0;
  }

  .app-sidebar--collapsed {
    width: min(240px, 88vw);
  }

  .sidebar-footer {
    padding-bottom: calc(12px + env(safe-area-inset-bottom, 0px));
  }

  .sidebar-collapse-toggle {
    @apply hidden;
  }
}

@media (max-width: 480px) {
  .app-mobile-topbar {
    min-height: 50px;
    gap: 8px;
    padding-left: calc(12px + env(safe-area-inset-left, 0px));
    padding-right: calc(12px + env(safe-area-inset-right, 0px));
  }

  .app-mobile-topbar-title {
    font-size: 13px;
  }

  .app-mobile-nav-toggle,
  .app-mobile-fab-toggle {
    width: 32px;
    height: 32px;
  }

  .app-mobile-nav-toggle svg,
  .app-mobile-fab-toggle svg {
    width: 16px;
    height: 16px;
  }
}
